!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(t.CKEditor5=t.CKEditor5||{},t.CKEditor5.dummyText=e())}(self,(()=>(()=>{var t={"ckeditor5/src/core.js":(t,e,n)=>{t.exports=n("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/ui.js":(t,e,n)=>{t.exports=n("dll-reference CKEditor5.dll")("./src/ui.js")},"dll-reference CKEditor5.dll":t=>{"use strict";t.exports=CKEditor5.dll}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var r={};return(()=>{"use strict";n.d(r,{default:()=>lo});var t=n("ckeditor5/src/core.js");n("ckeditor5/src/ui.js");const e=function(){try{return navigator.userAgent.toLowerCase()}catch(t){return""}}(),o={isMac:s(e),isWindows:function(t){return t.indexOf("windows")>-1}(e),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(e),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(e),isiOS:function(t){return!!t.match(/iphone|ipad/i)||s(t)&&navigator.maxTouchPoints>0}(e),isAndroid:function(t){return t.indexOf("android")>-1}(e),isBlink:function(t){return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0}(e),features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="ć".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}},i=o;function s(t){return t.indexOf("macintosh")>-1}const c=function(){return function t(){t.called=!0}};class a{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=c(),this.off=c()}}const l=new Array(256).fill("").map(((t,e)=>("0"+e.toString(16)).slice(-2)));function h(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+l[255&t]+l[t>>8&255]+l[t>>16&255]+l[t>>24&255]+l[255&e]+l[e>>8&255]+l[e>>16&255]+l[e>>24&255]+l[255&n]+l[n>>8&255]+l[n>>16&255]+l[n>>24&255]+l[255&r]+l[r>>8&255]+l[r>>16&255]+l[r>>24&255]}const u={get(t="normal"){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function d(t,e){const n=u.get(e.priority);for(let r=0;r<t.length;r++)if(u.get(t[r].priority)<n)return void t.splice(r,0,e);t.push(e)}const f="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class p extends Error{constructor(t,e,n){super(function(t,e){const n=new WeakSet,r=(t,e)=>{if("object"==typeof e&&null!==e){if(n.has(e))return`[object ${e.constructor.name}]`;n.add(e)}return e},o=e?` ${JSON.stringify(e,r)}`:"",i=b(t);return t+o+i}(t,n)),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new p(t.message,e);throw n.stack=t.stack,n}}function b(t){return`\nRead more: ${f}#error-${t}`}const m="35.4.0",g="object"==typeof window?window:n.g;if(g.CKEDITOR_VERSION)throw new p("ckeditor-duplicated-modules",null);g.CKEDITOR_VERSION=m;const _=Symbol("listeningTo"),v=Symbol("emitterId"),y=Symbol("delegations"),w=j(Object);function j(t){if(!t)return w;return class extends t{on(t,e,n){this.listenTo(this,t,e,n)}once(t,e,n){let r=!1;this.listenTo(this,t,((t,...n)=>{r||(r=!0,t.off(),e.call(this,t,...n))}),n)}off(t,e){this.stopListening(this,t,e)}listenTo(t,e,n,r={}){let o,i;this[_]||(this[_]={});const s=this[_];x(t)||E(t);const c=x(t);(o=s[c])||(o=s[c]={emitter:t,callbacks:{}}),(i=o.callbacks[e])||(i=o.callbacks[e]=[]),i.push(n),function(t,e,n,r,o){e._addEventListener?e._addEventListener(n,r,o):t._addEventListener.call(e,n,r,o)}(this,t,e,n,r)}stopListening(t,e,n){const r=this[_];let o=t&&x(t);const i=r&&o?r[o]:void 0,s=i&&e?i.callbacks[e]:void 0;if(!(!r||t&&!i||e&&!s))if(n){I(this,t,e,n);-1!==s.indexOf(n)&&(1===s.length?delete i.callbacks[e]:I(this,t,e,n))}else if(s){for(;n=s.pop();)I(this,t,e,n);delete i.callbacks[e]}else if(i){for(e in i.callbacks)this.stopListening(t,e);delete r[o]}else{for(o in r)this.stopListening(r[o].emitter);delete this[_]}}fire(t,...e){try{const n=t instanceof a?t:new a(this,t),r=n.name;let o=k(this,r);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,this._removeEventListener(r,o[e].callback)),!n.stop.called);e++);}const i=this[y];if(i){const t=i.get(r),o=i.get("*");t&&A(t,n,e),o&&A(o,n,e)}return n.return}catch(t){p.rethrowUnexpectedError(t,this)}}delegate(...t){return{to:(e,n)=>{this[y]||(this[y]=new Map),t.forEach((t=>{const r=this[y].get(t);r?r.set(e,n):this[y].set(t,new Map([[e,n]]))}))}}}stopDelegating(t,e){if(this[y])if(t)if(e){const n=this[y].get(t);n&&n.delete(e)}else this[y].delete(t);else this[y].clear()}_addEventListener(t,e,n){!function(t,e){const n=O(t);if(n[e])return;let r=e,o=null;const i=[];for(;""!==r&&!n[r];)n[r]={callbacks:[],childEvents:[]},i.push(n[r]),o&&n[r].childEvents.push(o),o=r,r=r.substr(0,r.lastIndexOf(":"));if(""!==r){for(const t of i)t.callbacks=n[r].callbacks.slice();n[r].childEvents.push(o)}}(this,t);const r=T(this,t),o={callback:e,priority:u.get(n.priority)};for(const t of r)d(t,o)}_removeEventListener(t,e){const n=T(this,t);for(const t of n)for(let n=0;n<t.length;n++)t[n].callback==e&&(t.splice(n,1),n--)}}}function E(t,e){t[v]||(t[v]=e||h())}function x(t){return t[v]}function O(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function T(t,e){const n=O(t)[e];if(!n)return[];let r=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const o=T(t,n.childEvents[e]);r=r.concat(o)}return r}function k(t,e){let n;return t._events&&(n=t._events[e])&&n.callbacks.length?n.callbacks:e.indexOf(":")>-1?k(t,e.substr(0,e.lastIndexOf(":"))):null}function A(t,e,n){for(let[r,o]of t){o?"function"==typeof o&&(o=o(e.name)):o=e.name;const t=new a(e.source,o);t.path=[...e.path],r.fire(t,...n)}}function I(t,e,n,r){e._removeEventListener?e._removeEventListener(n,r):t._removeEventListener.call(e,n,r)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{j[t]=w.prototype[t]}));const C=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},L=Symbol("observableProperties"),P=Symbol("boundObservables"),M=Symbol("boundProperties"),S=Symbol("decoratedMethods"),R=Symbol("decoratedOriginal"),F=N(j());function N(t){if(!t)return F;return class extends t{set(t,e){if(C(t))return void Object.keys(t).forEach((e=>{this.set(e,t[e])}),this);D(this);const n=this[L];if(t in this&&!n.has(t))throw new p("observable-set-cannot-override",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const r=n.get(t);let o=this.fire(`set:${t}`,t,e,r);void 0===o&&(o=e),r===o&&n.has(t)||(n.set(t,o),this.fire(`change:${t}`,t,o,r))}}),this[t]=e}bind(...t){if(!t.length||!W(t))throw new p("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new p("observable-bind-duplicate-properties",this);D(this);const e=this[M];t.forEach((t=>{if(e.has(t))throw new p("observable-bind-rebind",this)}));const n=new Map;return t.forEach((t=>{const r={property:t,to:[]};e.set(t,r),n.set(t,r)})),{to:V,toMany:B,_observable:this,_bindProperties:t,_to:[],_bindings:n}}unbind(...t){if(!this[L])return;const e=this[M],n=this[P];if(t.length){if(!W(t))throw new p("observable-unbind-wrong-properties",this);t.forEach((t=>{const r=e.get(t);r&&(r.to.forEach((([t,e])=>{const o=n.get(t),i=o[e];i.delete(r),i.size||delete o[e],Object.keys(o).length||(n.delete(t),this.stopListening(t,"change"))})),e.delete(t))}))}else n.forEach(((t,e)=>{this.stopListening(e,"change")})),n.clear(),e.clear()}decorate(t){D(this);const e=this[t];if(!e)throw new p("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:t});this.on(t,((t,n)=>{t.return=e.apply(this,n)})),this[t]=function(...e){return this.fire(t,e)},this[t][R]=e,this[S]||(this[S]=[]),this[S].push(t)}stopListening(t,e,n){if(!t&&this[S]){for(const t of this[S])this[t]=this[t][R];delete this[S]}super.stopListening(t,e,n)}}}function D(t){t[L]||(Object.defineProperty(t,L,{value:new Map}),Object.defineProperty(t,P,{value:new Map}),Object.defineProperty(t,M,{value:new Map}))}function V(...t){const e=function(...t){if(!t.length)throw new p("observable-bind-to-parse-error",null);const e={to:[]};let n;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach((t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new p("observable-bind-to-parse-error",null);n={observable:t,properties:[]},e.to.push(n)}})),e}(...t),n=Array.from(this._bindings.keys()),r=n.length;if(!e.callback&&e.to.length>1)throw new p("observable-bind-to-no-callback",this);if(r>1&&e.callback)throw new p("observable-bind-to-extra-callback",this);var o;e.to.forEach((t=>{if(t.properties.length&&t.properties.length!==r)throw new p("observable-bind-to-properties-length",this);t.properties.length||(t.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),o=this._observable,this._to.forEach((t=>{const e=o[P];let n;e.get(t.observable)||o.listenTo(t.observable,"change",((r,i)=>{n=e.get(t.observable)[i],n&&n.forEach((t=>{z(o,t.property)}))}))})),function(t){let e;t._bindings.forEach(((n,r)=>{t._to.forEach((o=>{e=o.properties[n.callback?0:t._bindProperties.indexOf(r)],n.to.push([o.observable,e]),function(t,e,n,r){const o=t[P],i=o.get(n),s=i||{};s[r]||(s[r]=new Set);s[r].add(e),i||o.set(n,s)}(t._observable,n,o.observable,e)}))}))}(this),this._bindProperties.forEach((t=>{z(this._observable,t)}))}function B(t,e,n){if(this._bindings.size>1)throw new p("observable-bind-to-many-not-one-binding",this);this.to(...function(t,e){const n=t.map((t=>[t,e]));return Array.prototype.concat.apply([],n)}(t,e),n)}function W(t){return t.every((t=>"string"==typeof t))}function z(t,e){const n=t[M].get(e);let r;n.callback?r=n.callback.apply(t,n.to.map((t=>t[0][t[1]]))):(r=n.to[0],r=r[0][r[1]]),Object.prototype.hasOwnProperty.call(t,e)?t[e]=r:t.set(e,r)}function U(t){return!(!t||!t[Symbol.iterator])}function $(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function K(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{N[t]=F.prototype[t]}));const G=H(j());function H(t){if(!t)return G;return class extends t{listenTo(t,e,n,r={}){if($(t)||K(t)){const o={capture:!!r.useCapture,passive:!!r.usePassive},i=this._getProxyEmitter(t,o)||new Y(t,o);this.listenTo(i,e,n,r)}else super.listenTo(t,e,n,r)}stopListening(t,e,n){if($(t)||K(t)){const r=this._getAllProxyEmitters(t);for(const t of r)this.stopListening(t,e,n)}else super.stopListening(t,e,n)}_getProxyEmitter(t,e){return function(t,e){const n=t[_];return n&&n[e]?n[e].emitter:null}(this,q(t,e))}_getAllProxyEmitters(t){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((e=>this._getProxyEmitter(t,e))).filter((t=>!!t))}}}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t=>{H[t]=G.prototype[t]}));class Y extends(j()){constructor(t,e){super(),E(this,q(t,e)),this._domNode=t,this._options=e}attach(t){if(this._domListeners&&this._domListeners[t])return;const e=this._createDomListener(t);this._domNode.addEventListener(t,e,this._options),this._domListeners||(this._domListeners={}),this._domListeners[t]=e}detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()}_addEventListener(t,e,n){this.attach(t),j().prototype._addEventListener.call(this,t,e,n)}_removeEventListener(t,e){j().prototype._removeEventListener.call(this,t,e),this.detach(t)}_createDomListener(t){const e=e=>{this.fire(t,e)};return e.removeListener=()=>{this._domNode.removeEventListener(t,e,this._options),delete this._domListeners[t]},e}}function q(t,e){let n=function(t){return t["data-ck-expando"]||(t["data-ck-expando"]=h())}(t);for(const t of Object.keys(e).sort())e[t]&&(n+="-"+t);return n}let J;try{J={window,document}}catch(t){J={window:{},document:{}}}const X=J;class Q{constructor(t,e){Q._observerInstance||Q._createObserver(),this._element=t,this._callback=e,Q._addElementCallback(t,e),Q._observerInstance.observe(t)}destroy(){Q._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){Q._elementCallbacks||(Q._elementCallbacks=new Map);let n=Q._elementCallbacks.get(t);n||(n=new Set,Q._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=Q._getElementCallbacks(t);n&&(n.delete(e),n.size||(Q._elementCallbacks.delete(t),Q._observerInstance.unobserve(t))),Q._elementCallbacks&&!Q._elementCallbacks.size&&(Q._observerInstance=null,Q._elementCallbacks=null)}static _getElementCallbacks(t){return Q._elementCallbacks?Q._elementCallbacks.get(t):null}static _createObserver(){Q._observerInstance=new X.window.ResizeObserver((t=>{for(const e of t){const t=Q._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}}))}}function Z(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}Q._observerInstance=null,Q._elementCallbacks=null;const tt=["top","right","bottom","left","width","height"];class et{constructor(t){const e=(n=t,"[object Range]"==Object.prototype.toString.apply(n));var n;if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),ot(t)||e)if(e){const e=et.getDomRangeRects(t);nt(this,et.getBoundingRect(e))}else nt(this,t.getBoundingClientRect());else if(K(t)){const{innerWidth:e,innerHeight:n}=t;nt(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else nt(this,t)}clone(){return new et(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left),width:0,height:0};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new et(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!rt(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!rt(n);){const t=new et(n),r=e.getIntersection(t);if(!r)return null;r.getArea()<e.getArea()&&(e=r),n=n.parentNode}}return e}isEqual(t){for(const e of tt)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,r;if(K(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,r=t.getComputedStyle(t.document.documentElement).direction;else{const o=Z(t);e=t.offsetWidth-t.clientWidth-o.left-o.right,n=t.offsetHeight-t.clientHeight-o.top-o.bottom,r=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===r?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new et(t));else{let n=t.startContainer;r=n,"[object Text]"==Object.prototype.toString.call(r)&&(n=n.parentNode);const o=new et(n.getBoundingClientRect());o.right=o.left,o.width=0,e.push(o)}var r;return e}static getBoundingRect(t){const e={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const r of t)n++,e.left=Math.min(e.left,r.left),e.top=Math.min(e.top,r.top),e.right=Math.max(e.right,r.right),e.bottom=Math.max(e.bottom,r.bottom);return 0==n?null:(e.width=e.right-e.left,e.height=e.bottom-e.top,new et(e))}}function nt(t,e){for(const n of tt)t[n]=e[n]}function rt(t){return!!ot(t)&&t===t.ownerDocument.body}function ot(t){return null!==t&&"object"==typeof t&&1===t.nodeType&&"function"==typeof t.getBoundingClientRect}const it="object"==typeof global&&global&&global.Object===Object&&global;var st="object"==typeof self&&self&&self.Object===Object&&self;const ct=it||st||Function("return this")();const at=ct.Symbol;var lt=Object.prototype,ht=lt.hasOwnProperty,ut=lt.toString,dt=at?at.toStringTag:void 0;const ft=function(t){var e=ht.call(t,dt),n=t[dt];try{t[dt]=void 0;var r=!0}catch(t){}var o=ut.call(t);return r&&(e?t[dt]=n:delete t[dt]),o};var pt=Object.prototype.toString;const bt=function(t){return pt.call(t)};var mt=at?at.toStringTag:void 0;const gt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":mt&&mt in Object(t)?ft(t):bt(t)};const _t=function(t){if(!C(t))return!1;var e=gt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e};function vt(t){const{scrollX:e,scrollY:n}=X.window;return t.clone().moveBy(e,n)}class yt{constructor(t,e){const n=t(e.targetRect,e.elementRect,e.viewportRect);if(!n)return;const{left:r,top:o,name:i,config:s}=n;this.name=i,this.config=s,this._positioningFunctionCorrdinates={left:r,top:o},this._options=e}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const t=this._options.limiterRect;if(t){const e=this._options.viewportRect;if(!e)return t.getIntersectionArea(this._rect);{const n=t.getIntersection(e);if(n)return n.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const t=this._options.viewportRect;return t?t.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=vt(this._rect),this._options.positionedElementAncestor&&function(t,e){const n=vt(new et(e)),r=Z(e);let o=0,i=0;o-=n.left,i-=n.top,o+=e.scrollLeft,i+=e.scrollTop,o-=r.left,i-=r.top,t.moveBy(o,i)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}const wt=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++){t[String.fromCharCode(e).toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;for(const e of"`-=[];',./\\")t[e]=e.charCodeAt(0);return t}();Object.fromEntries(Object.entries(wt).map((([t,e])=>[e,t.charAt(0).toUpperCase()+t.slice(1)])));function jt(t){let e;if("string"==typeof t){if(e=wt[t.toLowerCase()],!e)throw new p("keyboard-unknown-key",null,{key:t})}else e=t.keyCode+(t.altKey?wt.alt:0)+(t.ctrlKey?wt.ctrl:0)+(t.shiftKey?wt.shift:0)+(t.metaKey?wt.cmd:0);return e}function Et(t){return"string"==typeof t&&(t=function(t){return t.split("+").map((t=>t.trim()))}(t)),t.map((t=>"string"==typeof t?function(t){if(t.endsWith("!"))return jt(t.slice(0,-1));const e=jt(t);return i.isMac&&e==wt.ctrl?wt.cmd:e}(t):t)).reduce(((t,e)=>e+t),0)}X.window.CKEDITOR_TRANSLATIONS||(X.window.CKEDITOR_TRANSLATIONS={});class xt extends(j()){constructor(t={},e={}){super();const n=U(t);if(n||(e=t),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const e of t)this._items.push(e),this._itemMap.set(this._getItemIdBeforeAdding(e),e)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){return this.addMany([t],e)}addMany(t,e){if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new p("collection-add-item-invalid-index",this);let n=0;for(const r of t){const t=this._getItemIdBeforeAdding(r),o=e+n;this._items.splice(o,0,r),this._itemMap.set(t,r),this.fire("add",r,o),n++}return this.fire("change",{added:t,removed:[],index:e}),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new p("collection-get-invalid-arg",this);e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return e&&this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,e?this._items.indexOf(e):-1}remove(t){const[e,n]=this._remove(t);return this.fire("change",{added:[],removed:[e],index:n}),e}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const t=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:t,index:0})}bindTo(t){if(this._bindToCollection)throw new p("collection-bind-to-rebind",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding((e=>new t(e)))},using:t=>{"function"==typeof t?this._setUpBindToBinding(t):this._setUpBindToBinding((e=>e[t]))}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,r,o)=>{const i=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(r);if(i&&s)this._bindToExternalToInternalMap.set(r,s),this._bindToInternalToExternalMap.set(s,r);else{const n=t(r);if(!n)return void this._skippedIndexesFromExternal.push(o);let i=o;for(const t of this._skippedIndexesFromExternal)o>t&&i--;for(const t of e._skippedIndexesFromExternal)i>=t&&i++;this._bindToExternalToInternalMap.set(r,n),this._bindToInternalToExternalMap.set(n,r),this.add(n,i);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)i<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",((t,e,n)=>{const r=this._bindToExternalToInternalMap.get(e);r&&this.remove(r),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t)),[])}))}_getItemIdBeforeAdding(t){const e=this._idProperty;let n;if(e in t){if(n=t[e],"string"!=typeof n)throw new p("collection-add-invalid-id",this);if(this.get(n))throw new p("collection-add-item-already-exists",this)}else t[e]=n=h();return n}_remove(t){let e,n,r,o=!1;const i=this._idProperty;if("string"==typeof t?(n=t,r=this._itemMap.get(n),o=!r,r&&(e=this._items.indexOf(r))):"number"==typeof t?(e=t,r=this._items[e],o=!r,r&&(n=r[i])):(r=t,n=r[i],e=this._items.indexOf(r),o=-1==e||!this._itemMap.get(n)),o)throw new p("collection-remove-404",this);this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(r);return this._bindToInternalToExternalMap.delete(r),this._bindToExternalToInternalMap.delete(s),this.fire("remove",r,e),[r,e]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}class Ot extends(H(N())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(t){if(this._elements.has(t))throw new p("focustracker-add-element-already-exist",this);this.listenTo(t,"focus",(()=>this._focus(t)),{useCapture:!0}),this.listenTo(t,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class Tt{constructor(){this._listener=new(H())}listenTo(t){this._listener.listenTo(t,"keydown",((t,e)=>{this._listener.fire("_keydown:"+jt(e),e)}))}set(t,e,n={}){const r=Et(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+r,((t,n)=>{e(n,(()=>{n.preventDefault(),n.stopPropagation(),t.stop()})),t.return=!0}),{priority:o})}press(t){return!!this._listener.fire("_keydown:"+jt(t),t)}destroy(){this._listener.stopListening()}}function kt(t){return Array.isArray(t)?t:[t]}!function(){const t=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map((t=>t.source)).join("|")+")";new RegExp(`${t}|${e}(?:‍${e})*`,"ug")}();class At extends xt{constructor(t=[]){super(t,{idProperty:"viewUid"}),this.on("add",((t,e,n)=>{this._renderViewIntoCollectionParent(e,n)})),this.on("remove",((t,e)=>{e.element&&this._parentElement&&e.element.remove()})),this._parentElement=null}destroy(){this.map((t=>t.destroy()))}setParent(t){this._parentElement=t;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(...t){if(!t.length||!t.every((t=>"string"==typeof t)))throw new p("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const r of t)n.delegate(r).to(e);this.on("add",((n,r)=>{for(const n of t)r.delegate(n).to(e)})),this.on("remove",((n,r)=>{for(const n of t)r.stopDelegating(n,e)}))}}}_renderViewIntoCollectionParent(t,e){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[e])}}const It=function(){this.__data__=[],this.size=0};const Ct=function(t,e){return t===e||t!=t&&e!=e};const Lt=function(t,e){for(var n=t.length;n--;)if(Ct(t[n][0],e))return n;return-1};var Pt=Array.prototype.splice;const Mt=function(t){var e=this.__data__,n=Lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():Pt.call(e,n,1),--this.size,!0)};const St=function(t){var e=this.__data__,n=Lt(e,t);return n<0?void 0:e[n][1]};const Rt=function(t){return Lt(this.__data__,t)>-1};const Ft=function(t,e){var n=this.__data__,r=Lt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function Nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nt.prototype.clear=It,Nt.prototype.delete=Mt,Nt.prototype.get=St,Nt.prototype.has=Rt,Nt.prototype.set=Ft;const Dt=Nt;const Vt=function(){this.__data__=new Dt,this.size=0};const Bt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};const Wt=function(t){return this.__data__.get(t)};const zt=function(t){return this.__data__.has(t)};const Ut=ct["__core-js_shared__"];var $t=function(){var t=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();const Kt=function(t){return!!$t&&$t in t};var Gt=Function.prototype.toString;const Ht=function(t){if(null!=t){try{return Gt.call(t)}catch(t){}try{return t+""}catch(t){}}return""};var Yt=/^\[object .+?Constructor\]$/,qt=Function.prototype,Jt=Object.prototype,Xt=qt.toString,Qt=Jt.hasOwnProperty,Zt=RegExp("^"+Xt.call(Qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const te=function(t){return!(!C(t)||Kt(t))&&(_t(t)?Zt:Yt).test(Ht(t))};const ee=function(t,e){return null==t?void 0:t[e]};const ne=function(t,e){var n=ee(t,e);return te(n)?n:void 0};const re=ne(ct,"Map");const oe=ne(Object,"create");const ie=function(){this.__data__=oe?oe(null):{},this.size=0};const se=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var ce=Object.prototype.hasOwnProperty;const ae=function(t){var e=this.__data__;if(oe){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return ce.call(e,t)?e[t]:void 0};var le=Object.prototype.hasOwnProperty;const he=function(t){var e=this.__data__;return oe?void 0!==e[t]:le.call(e,t)};const ue=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=oe&&void 0===e?"__lodash_hash_undefined__":e,this};function de(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}de.prototype.clear=ie,de.prototype.delete=se,de.prototype.get=ae,de.prototype.has=he,de.prototype.set=ue;const fe=de;const pe=function(){this.size=0,this.__data__={hash:new fe,map:new(re||Dt),string:new fe}};const be=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};const me=function(t,e){var n=t.__data__;return be(e)?n["string"==typeof e?"string":"hash"]:n.map};const ge=function(t){var e=me(this,t).delete(t);return this.size-=e?1:0,e};const _e=function(t){return me(this,t).get(t)};const ve=function(t){return me(this,t).has(t)};const ye=function(t,e){var n=me(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function we(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}we.prototype.clear=pe,we.prototype.delete=ge,we.prototype.get=_e,we.prototype.has=ve,we.prototype.set=ye;const je=we;const Ee=function(t,e){var n=this.__data__;if(n instanceof Dt){var r=n.__data__;if(!re||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new je(r)}return n.set(t,e),this.size=n.size,this};function xe(t){var e=this.__data__=new Dt(t);this.size=e.size}xe.prototype.clear=Vt,xe.prototype.delete=Bt,xe.prototype.get=Wt,xe.prototype.has=zt,xe.prototype.set=Ee;const Oe=xe;const Te=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t};const ke=function(){try{var t=ne(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();const Ae=function(t,e,n){"__proto__"==e&&ke?ke(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Ie=Object.prototype.hasOwnProperty;const Ce=function(t,e,n){var r=t[e];Ie.call(t,e)&&Ct(r,n)&&(void 0!==n||e in t)||Ae(t,e,n)};const Le=function(t,e,n,r){var o=!n;n||(n={});for(var i=-1,s=e.length;++i<s;){var c=e[i],a=r?r(n[c],t[c],c,n,t):void 0;void 0===a&&(a=t[c]),o?Ae(n,c,a):Ce(n,c,a)}return n};const Pe=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};const Me=function(t){return null!=t&&"object"==typeof t};const Se=function(t){return Me(t)&&"[object Arguments]"==gt(t)};var Re=Object.prototype,Fe=Re.hasOwnProperty,Ne=Re.propertyIsEnumerable;const De=Se(function(){return arguments}())?Se:function(t){return Me(t)&&Fe.call(t,"callee")&&!Ne.call(t,"callee")};const Ve=Array.isArray;const Be=function(){return!1};var We="object"==typeof exports&&exports&&!exports.nodeType&&exports,ze=We&&"object"==typeof module&&module&&!module.nodeType&&module,Ue=ze&&ze.exports===We?ct.Buffer:void 0;const $e=(Ue?Ue.isBuffer:void 0)||Be;var Ke=/^(?:0|[1-9]\d*)$/;const Ge=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ke.test(t))&&t>-1&&t%1==0&&t<e};const He=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye["[object Arguments]"]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye["[object Function]"]=Ye["[object Map]"]=Ye["[object Number]"]=Ye["[object Object]"]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;const qe=function(t){return Me(t)&&He(t.length)&&!!Ye[gt(t)]};const Je=function(t){return function(e){return t(e)}};var Xe="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qe=Xe&&"object"==typeof module&&module&&!module.nodeType&&module,Ze=Qe&&Qe.exports===Xe&&it.process;const tn=function(){try{var t=Qe&&Qe.require&&Qe.require("util").types;return t||Ze&&Ze.binding&&Ze.binding("util")}catch(t){}}();var en=tn&&tn.isTypedArray;const nn=en?Je(en):qe;var rn=Object.prototype.hasOwnProperty;const on=function(t,e){var n=Ve(t),r=!n&&De(t),o=!n&&!r&&$e(t),i=!n&&!r&&!o&&nn(t),s=n||r||o||i,c=s?Pe(t.length,String):[],a=c.length;for(var l in t)!e&&!rn.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ge(l,a))||c.push(l);return c};var sn=Object.prototype;const cn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||sn)};const an=function(t,e){return function(n){return t(e(n))}};const ln=an(Object.keys,Object);var hn=Object.prototype.hasOwnProperty;const un=function(t){if(!cn(t))return ln(t);var e=[];for(var n in Object(t))hn.call(t,n)&&"constructor"!=n&&e.push(n);return e};const dn=function(t){return null!=t&&He(t.length)&&!_t(t)};const fn=function(t){return dn(t)?on(t):un(t)};const pn=function(t,e){return t&&Le(e,fn(e),t)};const bn=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e};var mn=Object.prototype.hasOwnProperty;const gn=function(t){if(!C(t))return bn(t);var e=cn(t),n=[];for(var r in t)("constructor"!=r||!e&&mn.call(t,r))&&n.push(r);return n};const _n=function(t){return dn(t)?on(t,!0):gn(t)};const vn=function(t,e){return t&&Le(e,_n(e),t)};var yn="object"==typeof exports&&exports&&!exports.nodeType&&exports,wn=yn&&"object"==typeof module&&module&&!module.nodeType&&module,jn=wn&&wn.exports===yn?ct.Buffer:void 0,En=jn?jn.allocUnsafe:void 0;const xn=function(t,e){if(e)return t.slice();var n=t.length,r=En?En(n):new t.constructor(n);return t.copy(r),r};const On=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e};const Tn=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var s=t[n];e(s,n,t)&&(i[o++]=s)}return i};const kn=function(){return[]};var An=Object.prototype.propertyIsEnumerable,In=Object.getOwnPropertySymbols;const Cn=In?function(t){return null==t?[]:(t=Object(t),Tn(In(t),(function(e){return An.call(t,e)})))}:kn;const Ln=function(t,e){return Le(t,Cn(t),e)};const Pn=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t};const Mn=an(Object.getPrototypeOf,Object);const Sn=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Pn(e,Cn(t)),t=Mn(t);return e}:kn;const Rn=function(t,e){return Le(t,Sn(t),e)};const Fn=function(t,e,n){var r=e(t);return Ve(t)?r:Pn(r,n(t))};const Nn=function(t){return Fn(t,fn,Cn)};const Dn=function(t){return Fn(t,_n,Sn)};const Vn=ne(ct,"DataView");const Bn=ne(ct,"Promise");const Wn=ne(ct,"Set");const zn=ne(ct,"WeakMap");var Un="[object Map]",$n="[object Promise]",Kn="[object Set]",Gn="[object WeakMap]",Hn="[object DataView]",Yn=Ht(Vn),qn=Ht(re),Jn=Ht(Bn),Xn=Ht(Wn),Qn=Ht(zn),Zn=gt;(Vn&&Zn(new Vn(new ArrayBuffer(1)))!=Hn||re&&Zn(new re)!=Un||Bn&&Zn(Bn.resolve())!=$n||Wn&&Zn(new Wn)!=Kn||zn&&Zn(new zn)!=Gn)&&(Zn=function(t){var e=gt(t),n="[object Object]"==e?t.constructor:void 0,r=n?Ht(n):"";if(r)switch(r){case Yn:return Hn;case qn:return Un;case Jn:return $n;case Xn:return Kn;case Qn:return Gn}return e});const tr=Zn;var er=Object.prototype.hasOwnProperty;const nr=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&er.call(t,"index")&&(n.index=t.index,n.input=t.input),n};const rr=ct.Uint8Array;const or=function(t){var e=new t.constructor(t.byteLength);return new rr(e).set(new rr(t)),e};const ir=function(t,e){var n=e?or(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)};var sr=/\w*$/;const cr=function(t){var e=new t.constructor(t.source,sr.exec(t));return e.lastIndex=t.lastIndex,e};var ar=at?at.prototype:void 0,lr=ar?ar.valueOf:void 0;const hr=function(t){return lr?Object(lr.call(t)):{}};const ur=function(t,e){var n=e?or(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};const dr=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return or(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return ir(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ur(t,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return cr(t);case"[object Symbol]":return hr(t)}};var fr=Object.create;const pr=function(){function t(){}return function(e){if(!C(e))return{};if(fr)return fr(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const br=function(t){return"function"!=typeof t.constructor||cn(t)?{}:pr(Mn(t))};const mr=function(t){return Me(t)&&"[object Map]"==tr(t)};var gr=tn&&tn.isMap;const _r=gr?Je(gr):mr;const vr=function(t){return Me(t)&&"[object Set]"==tr(t)};var yr=tn&&tn.isSet;const wr=yr?Je(yr):vr;var jr="[object Arguments]",Er="[object Function]",xr="[object Object]",Or={};Or[jr]=Or["[object Array]"]=Or["[object ArrayBuffer]"]=Or["[object DataView]"]=Or["[object Boolean]"]=Or["[object Date]"]=Or["[object Float32Array]"]=Or["[object Float64Array]"]=Or["[object Int8Array]"]=Or["[object Int16Array]"]=Or["[object Int32Array]"]=Or["[object Map]"]=Or["[object Number]"]=Or[xr]=Or["[object RegExp]"]=Or["[object Set]"]=Or["[object String]"]=Or["[object Symbol]"]=Or["[object Uint8Array]"]=Or["[object Uint8ClampedArray]"]=Or["[object Uint16Array]"]=Or["[object Uint32Array]"]=!0,Or["[object Error]"]=Or[Er]=Or["[object WeakMap]"]=!1;const Tr=function t(e,n,r,o,i,s){var c,a=1&n,l=2&n,h=4&n;if(r&&(c=i?r(e,o,i,s):r(e)),void 0!==c)return c;if(!C(e))return e;var u=Ve(e);if(u){if(c=nr(e),!a)return On(e,c)}else{var d=tr(e),f=d==Er||"[object GeneratorFunction]"==d;if($e(e))return xn(e,a);if(d==xr||d==jr||f&&!i){if(c=l||f?{}:br(e),!a)return l?Rn(e,vn(c,e)):Ln(e,pn(c,e))}else{if(!Or[d])return i?e:{};c=dr(e,d,a)}}s||(s=new Oe);var p=s.get(e);if(p)return p;s.set(e,c),wr(e)?e.forEach((function(o){c.add(t(o,n,r,o,e,s))})):_r(e)&&e.forEach((function(o,i){c.set(i,t(o,n,r,i,e,s))}));var b=u?void 0:(h?l?Dn:Nn:l?_n:fn)(e);return Te(b||e,(function(o,i){b&&(o=e[i=o]),Ce(c,i,t(o,n,r,i,e,s))})),c};const kr=function(t,e){return Tr(t,5,e="function"==typeof e?e:void 0)};class Ar extends(j()){constructor(t){super(),Object.assign(this,Dr(Nr(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,intoFragment:!1,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new p("ui-template-revert-not-applied",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)$r(n)?yield n:Kr(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,r)=>new Cr({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:r}),if:(n,r,o)=>new Lr({observable:t,emitter:e,attribute:n,valueIfTrue:r,callback:o})}}static extend(t,e){if(t._isRendered)throw new p("template-extend-render",[this,t]);zr(t,Dr(Nr(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text,e)throw new p("ui-template-wrong-syntax",this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Pr(this.text)?this._bindToObservable({schema:this.text,updater:Sr(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){if(!this.attributes)return;const e=t.node,n=t.revertData;for(const r in this.attributes){const o=e.getAttribute(r),i=this.attributes[r];n&&(n.attributes[r]=o);const s=Hr(i)?i[0].ns:null;if(Pr(i)){const c=Hr(i)?i[0].value:i;n&&Yr(r)&&c.unshift(o),this._bindToObservable({schema:c,updater:Rr(e,r,s),data:t})}else if("style"==r&&"string"!=typeof i[0])this._renderStyleAttribute(i[0],t);else{n&&o&&Yr(r)&&i.unshift(o);const t=i.map((t=>t&&t.value||t)).reduce(((t,e)=>t.concat(e)),[]).reduce(Br,"");Ur(t)||e.setAttributeNS(s,r,t)}}}_renderStyleAttribute(t,e){const n=e.node;for(const r in t){const o=t[r];Pr(o)?this._bindToObservable({schema:[o],updater:Fr(n,r),data:e}):n.style[r]=o}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,r=t.isApplying;let o=0;for(const i of this.children)if(Gr(i)){if(!r){i.setParent(e);for(const t of i)n.appendChild(t.element)}}else if($r(i))r||(i.isRendered||i.render(),n.appendChild(i.element));else if($(i))n.appendChild(i);else if(r){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),i._renderNode({intoFragment:!1,node:n.childNodes[o++],isApplying:!0,revertData:e})}else n.appendChild(i.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map((n=>{const[r,o]=e.split("@");return n.activateDomEventListener(r,o,t)}));t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const r=n.revertData;Mr(t,e,n);const o=t.filter((t=>!Ur(t))).filter((t=>t.observable)).map((r=>r.activateAttributeListener(t,e,n)));r&&r.bindings.push(o)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)return void(t.textContent=e.text);const n=t;for(const t in e.attributes){const r=e.attributes[t];null===r?n.removeAttribute(t):n.setAttribute(t,r)}for(let t=0;t<e.children.length;++t)this._revertTemplateFromNode(n.childNodes[t],e.children[t])}}class Ir{constructor(t){this.attribute=t.attribute,this.observable=t.observable,this.emitter=t.emitter,this.callback=t.callback}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const r=()=>Mr(t,e,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,r),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,r)}}}class Cr extends Ir{constructor(t){super(t),this.eventNameOrFunction=t.eventNameOrFunction}activateDomEventListener(t,e,n){const r=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,r),()=>{this.emitter.stopListening(n.node,t,r)}}}class Lr extends Ir{constructor(t){super(t),this.valueIfTrue=t.valueIfTrue}getValue(t){return!Ur(super.getValue(t))&&(this.valueIfTrue||!0)}}function Pr(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Pr):t instanceof Ir)}function Mr(t,e,{node:n}){const r=function(t,e){return t.map((t=>t instanceof Ir?t.getValue(e):t))}(t,n);let o;o=1==t.length&&t[0]instanceof Lr?r[0]:r.reduce(Br,""),Ur(o)?e.remove():e.set(o)}function Sr(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function Rr(t,e,n){return{set(r){t.setAttributeNS(n,e,r)},remove(){t.removeAttributeNS(n,e)}}}function Fr(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function Nr(t){return kr(t,(t=>{if(t&&(t instanceof Ir||Kr(t)||$r(t)||Gr(t)))return t}))}function Dr(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){t.text=kt(t.text)}(t),t.on&&(t.eventListeners=function(t){for(const e in t)Vr(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=kt(t[e].value)),Vr(t,e)}(t.attributes);const e=[];if(t.children)if(Gr(t.children))e.push(t.children);else for(const n of t.children)Kr(n)||$r(n)||$(n)?e.push(n):e.push(new Ar(n));t.children=e}return t}function Vr(t,e){t[e]=kt(t[e])}function Br(t,e){return Ur(e)?t:Ur(t)?e:`${t} ${e}`}function Wr(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function zr(t,e){if(e.attributes&&(t.attributes||(t.attributes={}),Wr(t.attributes,e.attributes)),e.eventListeners&&(t.eventListeners||(t.eventListeners={}),Wr(t.eventListeners,e.eventListeners)),e.text&&t.text.push(...e.text),e.children&&e.children.length){if(t.children.length!=e.children.length)throw new p("ui-template-extend-children-mismatch",t);let n=0;for(const r of e.children)zr(t.children[n++],r)}}function Ur(t){return!t&&0!==t}function $r(t){return t instanceof qr}function Kr(t){return t instanceof Ar}function Gr(t){return t instanceof At}function Hr(t){return C(t[0])&&t[0].ns}function Yr(t){return"class"==t||"style"==t}class qr extends(H(N())){constructor(t){super(),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new xt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((e,n)=>{n.locale=t,n.t=t&&t.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Ar.bind(this,this)}createCollection(t){const e=new At(t);return this._viewCollections.add(e),e}registerChild(t){U(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){U(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new Ar(t)}extendTemplate(t){Ar.extend(this.template,t)}render(){if(this.isRendered)throw new p("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((t=>t.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}class Jr extends qr{constructor(t,e,n){super(t);const r=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Tt,this.focusTracker=new Ot,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",(t=>!t))],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":r.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",((t,e,n)=>{n&&("auto"===this.panelPosition?this.panelView.position=Jr._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)})),this.keystrokes.listenTo(this.element);const t=(t,e)=>{this.isOpen&&(this.isOpen=!1,e())};this.keystrokes.set("arrowdown",((t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())})),this.keystrokes.set("arrowright",((t,e)=>{this.isOpen&&e()})),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:t,north:e,southEast:n,southWest:r,northEast:o,northWest:i,southMiddleEast:s,southMiddleWest:c,northMiddleEast:a,northMiddleWest:l}=Jr.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,r,s,c,t,o,i,a,l,e]:[r,n,c,s,t,i,o,l,a,e]}}Jr.defaultPanelPositions={south:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/2,name:"s"}),southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),southMiddleEast:(t,e)=>({top:t.bottom,left:t.left-(e.width-t.width)/4,name:"sme"}),southMiddleWest:(t,e)=>({top:t.bottom,left:t.left-3*(e.width-t.width)/4,name:"smw"}),north:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/2,name:"n"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.top-e.height,left:t.left-e.width+t.width,name:"nw"}),northMiddleEast:(t,e)=>({top:t.top-e.height,left:t.left-(e.width-t.width)/4,name:"nme"}),northMiddleWest:(t,e)=>({top:t.top-e.height,left:t.left-3*(e.width-t.width)/4,name:"nmw"})},Jr._getOptimalPosition=function({element:t,target:e,positions:n,limiter:r,fitInViewport:o,viewportOffsetConfig:i}){_t(e)&&(e=e()),_t(r)&&(r=r());const s=function(t){return t&&t.parentNode?t.offsetParent===X.document.body?null:t.offsetParent:null}(t),c=new et(t),a=new et(e);let l;const h=o&&function(t){t=Object.assign({top:0,bottom:0,left:0,right:0},t);const e=new et(X.window);return e.top+=t.top,e.height-=t.top,e.bottom-=t.bottom,e.height-=t.bottom,e}(i)||null,u={targetRect:a,elementRect:c,positionedElementAncestor:s,viewportRect:h};if(r||o){const t=r&&new et(r).getVisible();Object.assign(u,{limiterRect:t,viewportRect:h}),l=function(t,e){const{elementRect:n}=e,r=n.getArea(),o=t.map((t=>new yt(t,e))).filter((t=>!!t.name));let i=0,s=null;for(const t of o){const{limiterIntersectionArea:e,viewportIntersectionArea:n}=t;if(e===r)return t;const o=n**2+e**2;o>i&&(i=o,s=t)}return s}(n,u)||new yt(n[0],u)}else l=new yt(n[0],u);return l};const Xr=function(t){return t};const Qr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var Zr=Math.max;const to=function(t,e,n){return e=Zr(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Zr(r.length-e,0),s=Array(i);++o<i;)s[o]=r[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=r[o];return c[e]=n(s),Qr(t,this,c)}};const eo=function(t){return function(){return t}};const no=ke?function(t,e){return ke(t,"toString",{configurable:!0,enumerable:!1,value:eo(e),writable:!0})}:Xr;var ro=Date.now;const oo=function(t){var e=0,n=0;return function(){var r=ro(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(no);const io=function(t,e){return oo(to(t,e,Xr),t+"")};const so=function(t,e,n){if(!C(n))return!1;var r=typeof e;return!!("number"==r?dn(n)&&Ge(e,n.length):"string"==r&&e in n)&&Ct(n[e],t)};co=function(t,e){Le(e,_n(e),t)},io((function(t,e){var n=-1,r=e.length,o=r>1?e[r-1]:void 0,i=r>2?e[2]:void 0;for(o=co.length>3&&"function"==typeof o?(r--,o):void 0,i&&so(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var s=e[n];s&&co(t,s,n,o)}return t}));var co;N();class ao extends t.Plugin{init(){const t=createDropdown(locale);t.buttonView.set({label:"A dropdown",withText:!0}),t.render(),t.panelView.element.textContent="Content of the panel"}}const lo={DummyText:ao}})(),r=r.default})()));